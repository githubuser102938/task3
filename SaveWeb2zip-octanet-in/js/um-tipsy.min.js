!function(t){function e(t,e){return"function"==typeof t?t.call(e):t}function i(e,i){this.$element=t(e),this.options=i,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){if((s=this.getTitle())&&this.enabled){var i,s,n=this.tip(),o=(n.find(".tipsy-inner")[this.options.html?"html":"text"](s),n[0].className="tipsy",n.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body),t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})),a=n[0].offsetWidth,l=n[0].offsetHeight;switch((s=e(this.options.gravity,this.$element[0])).charAt(0)){case"n":i={top:o.top+o.height+this.options.offset,left:o.left+o.width/2-a/2};break;case"s":i={top:o.top-l-this.options.offset,left:o.left+o.width/2-a/2};break;case"e":i={top:o.top+o.height/2-l/2,left:o.left-a-this.options.offset};break;case"w":(extra_gap=0)<t("body").css("position").length&&"relative"==t("body").css("position")&&t("#wpadminbar").length&&(extra_gap=t("#wpadminbar").height()),i={top:o.top+o.height/2-l/2-extra_gap,left:o.left+o.width+this.options.offset}}2==s.length&&("w"==s.charAt(1)?i.left=o.left+o.width/2-15:i.left=o.left+o.width/2-a+15),n.css(i).addClass("tipsy-"+s),n.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+s.charAt(0),this.options.className&&n.addClass(e(this.options.className,this.$element[0])),this.options.fade?n.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):n.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut((function(){t(this).remove()})):this.tip().remove()},fixTitle:function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("original-title")||t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,i=this.options;return this.fixTitle(),"string"==typeof(i=this.options).title?t=e.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(t=i.title.call(e[0])),(t=(""+t).replace(/(^\s*|\s*$)/,""))||i.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(e){var s,n;return!0===e?this.data("tipsy"):("string"==typeof e?(s=this.data("tipsy"))&&s[e]():((e=t.extend({},t.fn.tipsy.defaults,e)).on||this.each((function(){o(this)})),"manual"!=e.trigger&&(s="hover"==e.trigger?"mouseenter":"focus",n="hover"==e.trigger?"mouseleave":"blur",e.on?t(document).on(s,this.selector,a).on(n,this.selector,l):this.on(s,a).on(n,l))),this);function o(s){var n=t.data(s,"tipsy");return n||(n=new i(s,t.fn.tipsy.elementOptions(s,e)),t.data(s,"tipsy",n)),n}function a(){var t=o(this);t.hoverState="in",0==e.delayIn?t.show():(t.fixTitle(),setTimeout((function(){"in"==t.hoverState&&t.show()}),e.delayIn))}function l(){var t=o(this);t.hoverState="out",0==e.delayOut?t.hide():setTimeout((function(){"out"==t.hoverState&&t.hide()}),e.delayOut)}},t.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},t.fn.tipsy.revalidate=function(){t(".tipsy").each((function(){var e=t.data(this,"tipsy-pointee");e&&function(t){for(;t=t.parentNode;)if(t==document)return 1}(e)||t(this).remove()}))},t.fn.tipsy.elementOptions=function(e,i){return t.metadata?t.extend({},i,t(e).metadata()):i},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"},t.fn.tipsy.autoBounds=function(e,i){return function(){var s={ns:i[0],ew:1<i.length&&i[1]},n=t(document).scrollTop()+e,o=t(document).scrollLeft()+e,a=t(this);return a.offset().top<n&&(s.ns="n"),a.offset().left<o&&(s.ew="w"),t(window).width()+t(document).scrollLeft()-a.offset().left<e&&(s.ew="e"),t(window).height()+t(document).scrollTop()-a.offset().top<e&&(s.ns="s"),s.ns+(s.ew||"")}}}(jQuery);